

<app-header></app-header>

<app-sidebar></app-sidebar>
<!-- preloader -->
<div *ngIf="isLoading">
    <div class="corporex-preloader">
        <div class="spinner-wrapper">
            <div class="spinner"></div>
        </div><!-- .spinner-wrapper -->
    </div> <!-- .corporex-preloader -->
</div>


<!-- ============================================================== -->
<!-- Start Page Content here -->
<!-- ============================================================== -->

<div class="content-page">
    <div class="content">

        <!-- Start Content-->
        <div class="container-fluid">

            <!-- start page title -->
            <div class="row">
                <div class="col-12">
                    <div class="page-title-box">
                        <div class="page-title-right">
                            <ol class="breadcrumb m-0">
                                <li class="breadcrumb-item"><a href="javascript: void(0);">UBold</a></li>
                                <li class="breadcrumb-item"><a href="javascript: void(0);">Tables</a></li>
                                <li class="breadcrumb-item active">UBold</li>
                            </ol>
                        </div>
                        <h4 class="page-title">UBold</h4>
                    </div>
                </div>
            </div>
            <!-- end page title -->


            <!-- end row-->


            <div class="row">
                <div class="col-12">
                    <div class="card">

                        <div class="card-body">

                            <h4 class="header-title">Users-List</h4>
                            <div class="form-inline">
                                <div class="form-group">
                                    <label for="fullname">Search</label>&nbsp;
                                    <input class="form-control" type="search" placeholder="Search.."
                                        [(ngModel)]="searchTerm">
                                    <!-- <span><i class="fa fa-search"></i></span> -->

                                </div>
                                <div class="form-group d-block ml-auto">
                                    <button type="button" class="btn btn-success waves-effect waves-light "
                                        data-toggle="modal" data-target="#con-close-modal">+Add User</button>
                                </div>
                            </div>


                            <br>
                            <table id="datatable-buttons" class="table table-striped dt-responsive nowrap">
                                <thead>
                                    <tr>

                                        <th>Name</th>
                                        <th>Description</th>
                                        <th>Email</th>
                                        <!-- <th>mobile</th> -->
                                        <!-- <th>Ending date</th>  -->
                                        <th>Rating</th>
                                        <!-- <th>Rating Count</th> -->
                                        <th>Role</th>
                                        <!-- <th>Subscription Purchase Date</th> -->
                                        <th>Subscription</th>
                                        <!-- <th>Subscription cost</th> -->
                                        <th>isActive</th>
                                        <!-- <th>Updated Date</th> -->
                                        <th>Actions</th>
                                    </tr>
                                </thead>


                                <tbody>
                                    <tr *ngFor="let user of users | filter:searchTerm; let i= index">
                                        <td>{{user.name}}</td>
                                        <td>{{user.description}}</td>
                                        <td>{{user.emailId}}</td>
                                        <!-- <td>{{user.mobile}}</td> -->
                                        <!-- <td>{{user.endingDate}}</td> -->
                                        <td>{{user.rating}}</td>
                                        <!-- <td>{{user.ratingCount}}</td> -->
                                        <td>{{user.role}}</td>
                                        <td>{{user.subcription}}</td>
                                        <!-- <td>{{user.subscriptionCost}}</td> -->
                                        <td>{{user.isActive}}</td>
                                        <!-- <td>{{user.updatedDate}}</td> -->

                                        <!-- <td (click)="deleteUser(user.id)"><i class="fa fa-edit"></i> &nbsp;<i class="fa fa-trash"></i></td>
                                        <td>
                                            <a (click)="getUserId(user._id)" data-toggle="modal" data-target="#deleteModal">
                                                <i class="fas fa-trash"></i>
                                        </td> data-toggle="modal" data-target="#editField"-->


                                        <td>
                                           
                                               
                                                    <a (click)="editUserDetails(user)">
                                                        <i class="far fa-edit"></i>
                                                    </a> &nbsp;
                                               
                                                    <a (click)="getUserId(user.id)" data-toggle="modal"
                                                        data-target="#deleteModal">
                                                        <i class="fas fa-trash"></i>
                                                        </a>
                                               
                                           
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                        </div> <!-- end card body-->
                    </div> <!-- end card -->
                </div><!-- end col-->
            </div>
            <!-- end row-->





        </div> <!-- container -->

    </div> <!-- content -->

    <!-- Footer Start -->
    <footer class="footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-6">
                    2015 - 2018 &copy; UBold theme by <a href="">Coderthemes</a>
                </div>
                <div class="col-md-6">
                    <div class="text-md-right footer-links d-none d-sm-block">
                        <a href="javascript:void(0);">About Us</a>
                        <a href="javascript:void(0);">Help</a>
                        <a href="javascript:void(0);">Contact Us</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- end Footer -->

</div>

<!-- ============================================================== -->
<!-- End Page content -->
<!-- ============================================================== -->

<!-- delete Modal HTML -->
<div id="deleteModal" class="modal fade">
    <div class="modal-dialog modal-confirm">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title w-100">Are you sure?</h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
            </div>
            <div class="modal-body p-4">
                <p>This is a custom field that you are going to delete. Be sure this is what you want to do. Once you
                    delete this custom field, this data will be gone forever. We CANNOT RESTORE this data.</p>
            </div>
            <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal" (click)=" deleteUser()">Yes, delete
                    it!</button>
            </div>
        </div>
    </div>
</div>

<div id="con-close-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true" style="display: none;">
    <div class="modal-dialog modal-full">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Modal Content is Responsive</h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
            </div>
            <div class="card bg-pattern">

                <div class="card-body p-4">
                    <!-- <button class="btn btn-primary" routerLink="/user-list">back to home</button> -->
                    <form action="#" [formGroup]="userForm">
    
                        <h1 class="text-center">Add-User Form</h1>
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="p-sm-3">
                                    <div class="form-group">
                                        <label for="inputAddress">Email </label>
                                        <input type="text" class="form-control" id="inputAddress" formControlName="emailId"
                                            placeholder="Enter email">
                                        <div
                                            *ngIf="(userForm.get('emailId')?.invalid && userForm.get('emailId')?.touched) || userForm.get('emailId')?.dirty">
                                            <small *ngIf="userForm.get('emailId')?.errors?.required" class="text-danger">
                                                Email
                                                is required</small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputAddress">Description</label>
                                        <input type="text" class="form-control" id="inputAddress"
                                            formControlName="description" placeholder="Enter description">
                                        <div
                                            *ngIf="(userForm.get('description')?.invalid && userForm.get('description')?.touched) || userForm.get('description')?.dirty">
                                            <small *ngIf="userForm.get('description')?.errors?.required"
                                                class="text-danger">description
                                                is required</small>
                                        </div>
                                    </div>
                                    <!-- <div class="form-group">
                                        <label for="inputAddress">endingDate</label>
                                        <input type="text" class="form-control" id="inputAddress"
                                            formControlName="endingDate" placeholder="Enter ending Date">
                                        <div
                                            *ngIf="(userForm.get('endingDate')?.invalid && userForm.get('endingDate')?.touched) || userForm.get('endingDate')?.dirty">
                                            <small *ngIf="userForm.get('endingDate')?.errors?.required"
                                                class="text-danger">endingDate
                                                is required</small>
                                        </div>
                                    </div> -->
    
                                    <!-- <div class="form-group">
                                        <label>Start Time</label>
                                        <div class="input_date">
                                            <input type="text" class="form-control" id=""
                                                placeholder="Enter here" formControlName="startTime"
                                                [ngxTimepicker]="picker3">
                                            <ngx-material-timepicker #picker3></ngx-material-timepicker>
                                        </div>
                                        <div
                                            *ngIf="(CreateGeneralTripForm.get('startTime')?.invalid && CreateGeneralTripForm.get('startTime')?.touched) || CreateGeneralTripForm.get('startTime')?.dirty">
                                            <small
                                                *ngIf="CreateGeneralTripForm.get('startTime')?.errors?.required"
                                                class="text-danger">Start Time is required</small>
                                        </div>
                                    </div> -->
    
    
                                    <div class="form-group">
                                        <label>End Date</label>
                                        <mat-datepicker-toggle matSuffix [for]="picker">
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
                                        <input type="text" class="form-control bg-white" [min]="todayDate"
                                            placeholder="Enter here" formControlName="endingDate"
                                            [matDatepicker]="picker" readonly>
                                        <div
                                            *ngIf="(userForm.get('endingDate')?.invalid && userForm.get('endingDate')?.touched) || userForm.get('endingDate')?.dirty">
                                            <small
                                                *ngIf="userForm.get('endingDate')?.errors?.required"
                                                class="text-danger">Ending Date is required</small>
                                        </div>
                                    </div>
    
                                    <div class="form-group">
                                        <label for="inputAddress">Mobile</label>
                                        <input type="tel" class="form-control" id="inputAddress" minlength="10" maxlength="10"  formControlName="mobile"
                                            placeholder="Enter mobile">
                                        <div
                                            *ngIf="(userForm.get('mobile')?.invalid && userForm.get('mobile')?.touched) || userForm.get('mobile')?.dirty">
                                            <small *ngIf="userForm.get('mobile')?.errors?.required"
                                                class="text-danger">Mobile
                                                is required</small>
                                        </div>
                                    </div>
    
    
                                </div>
                            </div> <!-- end col -->
    
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="p-sm-3">
    
                                    <div class="form-group">
                                        <label for="inputAddress">Rating</label>
                                        <input type="text" class="form-control" id="inputAddress" formControlName="rating"
                                            placeholder="Enter rating">
                                        <div
                                            *ngIf="(userForm.get('rating')?.invalid && userForm.get('rating')?.touched) || userForm.get('rating')?.dirty">
                                            <small *ngIf="userForm.get('rating')?.errors?.required"
                                                class="text-danger">Rating
                                                is required</small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputAddress">Role</label>
                                        <input type="text" class="form-control" id="inputAddress" formControlName="role"
                                            placeholder="Enter role">
                                        <div
                                            *ngIf="(userForm.get('role')?.invalid && userForm.get('role')?.touched) || userForm.get('role')?.dirty">
                                            <small *ngIf="userForm.get('role')?.errors?.required" class="text-danger">Role
                                                is required</small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputAddress">Subscription</label>
                                        <input type="text" class="form-control" id="inputAddress"
                                            formControlName="subscription" placeholder="Enter subscription">
                                        <div
                                            *ngIf="(userForm.get('subscription')?.invalid && userForm.get('subscription')?.touched) || userForm.get('subscription')?.dirty">
                                            <small *ngIf="userForm.get('subscription')?.errors?.required"
                                                class="text-danger">subscription
                                                is required</small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputAddress">isActive</label>
                                        <input type="text" class="form-control" id="inputAddress" formControlName="isActive"
                                            placeholder="Enter isActive">
                                        <div
                                            *ngIf="(userForm.get('isActive')?.invalid && userForm.get('isActive')?.touched) || userForm.get('isActive')?.dirty">
                                            <small *ngIf="userForm.get('isActive')?.errors?.required"
                                                class="text-danger">isActive
                                                is required</small>
                                        </div>
                                    </div>
    
                                </div>
    
                            </div> <!-- end col -->
    
                            <!-- <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="text-center">
                                    <button type="submit" class="btn btn-success" [disabled]="userForm.invalid" (click)="addUser(userForm.value)"
                                    class="btn btn-success btn-round waves-effect waves-light m-1">Add User
                                        </button>
                                </div>
                            </div> -->
                        </div>
                        <!-- end row-->
                    </form>
                </div> <!-- end card-body -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success waves-effect waves-light" [disabled]="userForm.invalid" (click)="addUser(userForm.value)">Save changes</button>
            </div>
        </div>
    </div>
</div><!-- /.modal -->


<!--Create field Modal -->

<!-- 
<div class="modal fade" id="createField" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Create Field</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form action="" [formGroup]="createFieldForm">
                <div class="modal-body">
                    <div class="offerBox">
                        <div class="form-group">
                            <label for="exampleInputEmail1">Field Name</label>
                            <input type="text" class="form-control" formControlName="field_name" placeholder="Name">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputEmail1">Field Type</label>
                            <div class="">
                                <select class="form-control" formControlName="field_type">
                                    <option value="text">Text Field</option>
                                    <option value="datetime">Date Time Field</option>
                                    <option value="date">Date Field</option>
                                    <option value="time">Time Field</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="exampleInputEmail1">Short Code Name</label>
                            <input type="text" class="form-control" formControlName="short_code_name" placeholder="Shortcode">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputEmail1">Group</label>
                            <div class="">
                                <select class="form-control" formControlName="group_id">
                                    <option *ngFor="let group of allGroups" value="{{group._id}}">{{group.group_name}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" (click)="createField(createFieldForm.value)">Create Field</button>
                </div>
            </form>
        </div>
    </div>
</div> -->





<!--edit field Modal -->



<div class="modal fade" id="editField" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Edit Field</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="card bg-pattern">

                <div class="card-body p-4">
                    <form action="#" [formGroup]="userForm">
    
                        <h1 class="text-center">Edit-User Form</h1>
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="p-sm-3">
                                    <div class="form-group">
                                        <label for="inputAddress">Email </label>
                                        <input type="text" class="form-control" id="inputAddress" formControlName="emailId"
                                            placeholder="Enter email">
                                        <div
                                            *ngIf="(userForm.get('emailId')?.invalid && userForm.get('emailId')?.touched) || userForm.get('emailId')?.dirty">
                                            <small *ngIf="userForm.get('emailId')?.errors?.required" class="text-danger">
                                                Email
                                                is required</small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputAddress">Description</label>
                                        <input type="text" class="form-control" id="inputAddress"
                                            formControlName="description" placeholder="Enter description">
                                        <div
                                            *ngIf="(userForm.get('description')?.invalid && userForm.get('description')?.touched) || userForm.get('description')?.dirty">
                                            <small *ngIf="userForm.get('description')?.errors?.required"
                                                class="text-danger">description
                                                is required</small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputAddress">endingDate</label>
                                        <input type="text" class="form-control" id="inputAddress"
                                            formControlName="endingDate" placeholder="Enter ending Date">
                                        <div
                                            *ngIf="(userForm.get('endingDate')?.invalid && userForm.get('endingDate')?.touched) || userForm.get('endingDate')?.dirty">
                                            <small *ngIf="userForm.get('endingDate')?.errors?.required"
                                                class="text-danger">endingDate
                                                is required</small>
                                        </div>
                                    </div>
    
                                    <div class="form-group">
                                        <label for="inputAddress">Mobile</label>
                                        <input type="text" class="form-control" id="inputAddress" formControlName="mobile"
                                            placeholder="Enter mobile">
                                        <div
                                            *ngIf="(userForm.get('mobile')?.invalid && userForm.get('mobile')?.touched) || userForm.get('mobile')?.dirty">
                                            <small *ngIf="userForm.get('mobile')?.errors?.required"
                                                class="text-danger">Mobile
                                                is required</small>
                                        </div>
                                    </div>
    
    
                                </div>
                            </div> <!-- end col -->
    
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="p-sm-3">
    
                                    <div class="form-group">
                                        <label for="inputAddress">Rating</label>
                                        <input type="text" class="form-control" id="inputAddress" formControlName="rating"
                                            placeholder="Enter rating">
                                        <div
                                            *ngIf="(userForm.get('rating')?.invalid && userForm.get('rating')?.touched) || userForm.get('rating')?.dirty">
                                            <small *ngIf="userForm.get('rating')?.errors?.required"
                                                class="text-danger">Rating
                                                is required</small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputAddress">Role</label>
                                        <input type="text" class="form-control" id="inputAddress" formControlName="role"
                                            placeholder="Enter role">
                                        <div
                                            *ngIf="(userForm.get('role')?.invalid && userForm.get('role')?.touched) || userForm.get('role')?.dirty">
                                            <small *ngIf="userForm.get('role')?.errors?.required" class="text-danger">Role
                                                is required</small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputAddress">Subscription</label>
                                        <input type="text" class="form-control" id="inputAddress"
                                            formControlName="subscription" placeholder="Enter subscription">
                                        <div
                                            *ngIf="(userForm.get('subscription')?.invalid && userForm.get('subscription')?.touched) || userForm.get('subscription')?.dirty">
                                            <small *ngIf="userForm.get('subscription')?.errors?.required"
                                                class="text-danger">subscription
                                                is required</small>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputAddress">isActive</label>
                                        <input type="text" class="form-control" id="inputAddress" formControlName="isActive"
                                            placeholder="Enter isActive">
                                        <div
                                            *ngIf="(userForm.get('isActive')?.invalid && userForm.get('isActive')?.touched) || userForm.get('isActive')?.dirty">
                                            <small *ngIf="userForm.get('isActive')?.errors?.required"
                                                class="text-danger">isActive
                                                is required</small>
                                        </div>
                                    </div>
    
                                </div>
    
                            </div> <!-- end col -->
                        </div>
                        <!-- end row-->
    
    
    
                        <div class="text-center">
                            <button type="submit" class="btn btn-success" [disabled]="userForm.invalid"
                            (click)="editUser(userForm.value)">save</button>
                        </div>
                    </form>
                </div> <!-- end card-body -->
            </div>
        </div>
    </div>
</div>