<app-header></app-header>

<app-sidebar></app-sidebar>



<!-- ============================================================== -->
<!-- Start Page Content here -->
<!-- ============================================================== -->

<div class="content-page">
    <div class="content">

        <!-- Start Content-->
        <div class="container-fluid">

            <!-- start page title -->
            <div class="row">
                <div class="col-12">
                    <div class="page-title-box">
                        <div class="page-title-right">
                            <ol class="breadcrumb m-0">
                                <li class="breadcrumb-item"><a href="javascript: void(0);">UBold</a></li>
                                <li class="breadcrumb-item"><a href="javascript: void(0);">Tables</a></li>
                                <li class="breadcrumb-item active">Datatables</li>
                            </ol>
                        </div>
                        <h4 class="page-title">Category</h4>
                    </div>
                </div>
            </div>
            <!-- end page title -->


            <!-- end row-->


            <div class="row">
                <div class="col-12">
                    <div class="card">

                        <div class="card-body">

                            <h4 class="header-title">Category-List</h4>

                            <div class="form-inline">
                                <div class="form-group">
                                    <label for="fullname">Search</label>&nbsp;
                                    <input class="form-control" type="search" placeholder="Search.."
                                        [(ngModel)]="searchTerm">
                                    <!-- <span><i class="fa fa-search"></i></span> -->

                                </div>
                                <div class="form-group d-block ml-auto">
                                    <button type="button" class="btn btn-success waves-effect waves-light "
                                        data-toggle="modal" data-target="#con-close-modal">+Add Category</button>
                                </div>
                            </div>


                            <table id="datatable-buttons" class="table table-striped dt-responsive nowrap">
                                <thead>
                                    <tr>
                                        <th>Index</th>
                                        <th>Id</th>
                                        <th>Name</th>
                                        <th>ParentId</th>
                                        <th>Actions</th>

                                    </tr>
                                </thead>


                                <tbody>
                                    <tr *ngFor="let category of categories | filter:searchTerm; let i= index">
                                        <td>{{i}}</td>
                                        <td>{{category.id}}</td>
                                        <td>{{category.name}}</td>
                                        <td>{{category.parentId}}</td>
                                        <td>


                                            <a (click)="editCategory(category)">
                                                <i class="far fa-edit"></i>
                                            </a> &nbsp;

                                            <a (click)="getCategoryId(category.id)" data-toggle="modal"
                                            data-target="#deleteModal">
                                                <i class="fas fa-trash"></i>
                                            </a>


                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                        </div> <!-- end card body-->
                    </div> <!-- end card -->
                </div><!-- end col-->
            </div>
            <!-- end row-->





        </div> <!-- container -->

    </div> <!-- content -->

    <!-- Footer Start -->
    <footer class="footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-6">
                    2015 - 2018 &copy; UBold theme by <a href="">Coderthemes</a>
                </div>
                <div class="col-md-6">
                    <div class="text-md-right footer-links d-none d-sm-block">
                        <a href="javascript:void(0);">About Us</a>
                        <a href="javascript:void(0);">Help</a>
                        <a href="javascript:void(0);">Contact Us</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- end Footer -->

</div>

<!-- ============================================================== -->
<!-- End Page content -->
<!-- ============================================================== -->

<!-- delete Modal HTML (click)=" deleteUser()"-->
<div id="deleteModal" class="modal fade">
    <div class="modal-dialog modal-confirm">
        <div class="modal-content">
            <!-- <div class="modal-header flex-column">
              
                
            </div> -->

            <div class="modal-header">
                <h4 class="modal-title w-100">Are you sure?</h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
            </div>
            <div class="modal-body p-4">
                <p>This is a custom field that you are going to delete. Be sure this is what you want to do. Once you
                    delete this custom field, this data will be gone forever. We CANNOT RESTORE this data.</p>
            </div>
            <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="deleteCategory()">Yes, delete
                    it!</button>
            </div>
        </div>
    </div>
</div>

<div id="con-close-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Category Form Modal</h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
            </div>
            <div class="modal-body p-4">


                <div class="card bg-pattern">

                    <div class="card-body p-4">
                        <form [formGroup]="categoryForm">
                            <h1 class="text-center">Add-Category Form</h1>
                            <!-- <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="inputEmail4">Email</label>
                                    <input type="email" class="form-control" id="inputEmail4" placeholder="Email">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="inputPassword4">Password</label>
                                    <input type="password" class="form-control" id="inputPassword4" placeholder="Password">
                                </div>
                            </div> -->
                            <div class="form-group">
                                <label for="inputAddress">Name</label>
                                <input type="text" class="form-control" id="inputAddress" formControlName="name"
                                    placeholder="Enter category name">
                                <div
                                    *ngIf="(categoryForm.get('name')?.invalid && categoryForm.get('name')?.touched) || categoryForm.get('name')?.dirty">
                                    <small *ngIf="categoryForm.get('name')?.errors?.required" class="text-danger">Category name
                                        is required</small>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputAddress">Parent Id</label>
                                <input type="text" class="form-control" id="inputAddress" formControlName="parentId"
                                    placeholder="Enter category name">
                                <div
                                    *ngIf="(categoryForm.get('parentId')?.invalid && categoryForm.get('parentId')?.touched) || categoryForm.get('parentId')?.dirty">
                                    <small *ngIf="categoryForm.get('parentId')?.errors?.required" class="text-danger">Parend Id
                                        is required</small>
                                </div>
                            </div>
                            <!-- <div class="form-group">
                                <label for="inputAddress2">Address 2</label>
                                <input type="text" class="form-control" id="inputAddress2"
                                    placeholder="Apartment, studio, or floor">
                            </div> -->
                            <!-- <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="inputCity">City</label>
                                    <input type="text" class="form-control" id="inputCity">
                                </div>
                                <div class="form-group col-md-4">
                                    <label for="inputState">State</label>
                                    <select id="inputState" class="form-control">
                                        <option selected>Choose...</option>
                                        <option>...</option>
                                    </select>
                                </div>
                                <div class="form-group col-md-2">
                                    <label for="inputZip">Zip</label>
                                    <input type="text" class="form-control" id="inputZip">
                                </div>
                            </div> -->
                            <div class="form-group">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="gridCheck">
                                    <label class="form-check-label" for="gridCheck">
                                        Check me out
                                    </label>
                                </div>
                            </div>
                            <!-- <div class="text-center">
                                <button type="submit" class="btn btn-success" [disabled]="categoryForm.invalid"
                                    (click)="saveCategory(categoryForm.value)">Add Category</button>
                            </div> -->
                        </form>
                    </div> <!-- end card-body -->
                </div>

                <!-- <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="field-1" class="control-label">Name</label>
                                        <input type="text" class="form-control" id="field-1" placeholder="John">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="field-2" class="control-label">Surname</label>
                                        <input type="text" class="form-control" id="field-2" placeholder="Doe">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="field-3" class="control-label">Address</label>
                                        <input type="text" class="form-control" id="field-3" placeholder="Address">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="field-4" class="control-label">City</label>
                                        <input type="text" class="form-control" id="field-4" placeholder="Boston">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="field-5" class="control-label">Country</label>
                                        <input type="text" class="form-control" id="field-5" placeholder="United States">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="field-6" class="control-label">Zip</label>
                                        <input type="text" class="form-control" id="field-6" placeholder="123456">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group no-margin">
                                        <label for="field-7" class="control-label">Personal Info</label>
                                        <textarea class="form-control" id="field-7" placeholder="Write something about yourself"></textarea>
                                    </div>
                                </div>
                            </div> -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-info waves-effect waves-light" (click)="saveCategory(categoryForm.value)">Save changes</button>
            </div>
        </div>
    </div>
</div><!-- /.modal -->